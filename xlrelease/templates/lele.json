[
  {
    "id": "Applications/Release816554",
    "type": "xlrelease.Release",
    "$createdBy": "admin",
    "$createdAt": "2016-08-30T12:35:37.694+0000",
    "$lastModifiedBy": "admin",
    "$lastModifiedAt": "2016-08-30T12:36:51.687+0000",
    "title": "CD-Pipeline-levent",
    "scheduledStartDate": "2016-08-30T07:00:00Z",
    "flagStatus": "OK",
    "maxConcurrentReleases": 100,
    "releaseTriggers": [
      {
        "id": "Applications/Release816554/Trigger6007468",
        "type": "git.Poll",
        "$createdBy": "admin",
        "$createdAt": "2016-08-30T12:35:37.695+0000",
        "$lastModifiedBy": "admin",
        "$lastModifiedAt": "2016-08-30T12:37:06.618+0000",
        "triggerState": "",
        "initialFire": false,
        "title": "git",
        "releaseTitle": "git-triggered-release",
        "pollType": "REPEAT",
        "periodicity": "10",
        "enabled": true,
        "variables": [],
        "template": "Applications/Release816554",
        "tags": [],
        "gitRepository": "Configuration/Custom/GITID",
        "branch": "master",
        "username": "GITUSER",
        "password": "GITPASS"
      }
    ],
    "teams": [
      {
        "id": "Applications/Release816554/Team5336141",
        "type": "xlrelease.Team",
        "$createdBy": "admin",
        "$createdAt": "2016-08-30T12:35:37.695+0000",
        "$lastModifiedBy": "admin",
        "$lastModifiedAt": "2016-08-30T12:35:37.695+0000",
        "teamName": "Template Owner",
        "members": [
          "admin"
        ],
        "roles": [],
        "permissions": [
          "template#create_release",
          "template#view",
          "template#edit",
          "template#edit_security"
        ]
      },
      {
        "id": "Applications/Release816554/Team4651155",
        "type": "xlrelease.Team",
        "$createdBy": "admin",
        "$createdAt": "2016-08-30T12:35:37.695+0000",
        "$lastModifiedBy": "admin",
        "$lastModifiedAt": "2016-08-30T12:35:37.695+0000",
        "teamName": "Release Admin",
        "members": [],
        "roles": [],
        "permissions": [
          "template#view",
          "release#view",
          "release#edit",
          "release#edit_security",
          "release#start",
          "release#abort",
          "release#edit_task",
          "release#reassign_task"
        ]
      }
    ],
    "memberViewers": [
      "admin"
    ],
    "roleViewers": [],
    "attachments": [],
    "phases": [
      {
        "id": "Applications/Release816554/Phase4810662",
        "type": "xlrelease.Phase",
        "$createdBy": "admin",
        "$createdAt": "2016-08-30T12:35:37.696+0000",
        "$lastModifiedBy": "admin",
        "$lastModifiedAt": "2016-08-30T12:35:37.696+0000",
        "title": "Build",
        "flagStatus": "OK",
        "tasks": [
          {
            "id": "Applications/Release816554/Phase4810662/Task9277522",
            "type": "xlrelease.ScriptTask",
            "$createdBy": "admin",
            "$createdAt": "2016-09-01T09:46:18.203+0000",
            "$lastModifiedBy": "admin",
            "$lastModifiedAt": "2016-09-01T09:46:37.596+0000",
            "title": "Generate Version Number",
            "flagStatus": "OK",
            "comments": [],
            "container": "Applications/Release4707628/Phase4810662",
            "attachments": [],
            "status": "PLANNED",
            "overdueNotified": false,
            "waitForScheduledStartDate": true,
            "hasBeenFlagged": false,
            "hasBeenDelayed": false,
            "failuresCount": 0,
            "variableMapping": {},
            "script": "import time\nversionNumber = time.strftime(\"%Y.%m.%d.%H.%M.%S\")\nreleaseVariables['VERSION'] = versionNumber\nprint versionNumber"
          },
          {
            "id": "Applications/Release816554/Phase4810662/Task2129672",
            "type": "xlrelease.CustomScriptTask",
            "$createdBy": "admin",
            "$createdAt": "2016-08-30T12:35:37.698+0000",
            "$lastModifiedBy": "admin",
            "$lastModifiedAt": "2016-08-30T12:36:08.254+0000",
            "title": "Jenkins Pipeline",
            "flagStatus": "OK",
            "comments": [],
            "container": "Applications/Release816554/Phase4810662",
            "attachments": [],
            "status": "PLANNED",
            "overdueNotified": false,
            "waitForScheduledStartDate": true,
            "hasBeenFlagged": false,
            "hasBeenDelayed": false,
            "failuresCount": 0,
            "variableMapping": {},
            "pythonScript": {
              "id": "Applications/Release816554/Phase4810662/Task2129672/PythonScript",
              "type": "jenkins.Build",
              "$createdBy": "admin",
              "$createdAt": "2016-08-30T12:35:37.702+0000",
              "$lastModifiedBy": "admin",
              "$lastModifiedAt": "2016-08-30T12:36:08.255+0000",
              "customScriptTask": "Applications/Release816554/Phase4810662/Task2129672",
              "jenkinsServer": "Configuration/Custom/JENKINSID",
              "jobName": "JENKINSJOBNAME",
              "jobParameters": "version=${VERSION}\nkey=value"
            }
          }
        ],
        "release": "Applications/Release816554",
        "status": "PLANNED",
        "color": "#009CDB"
      },
      {
        "id": "Applications/Release816554/Phase3407457",
        "type": "xlrelease.Phase",
        "$createdBy": "admin",
        "$createdAt": "2016-08-30T12:35:37.696+0000",
        "$lastModifiedBy": "admin",
        "$lastModifiedAt": "2016-08-30T12:35:37.696+0000",
        "title": "Test",
        "flagStatus": "OK",
        "tasks": [
          {
          "id": "Applications/Release816554/Phase3407457/Task6588004",
          "type": "xlrelease.ScriptTask",
          "$createdBy": "admin",
          "$createdAt": "2016-11-16T12:57:59.484+0000",
          "$lastModifiedBy": "admin",
          "$lastModifiedAt": "2016-11-16T12:57:59.484+0000",
          "title": "Start dummy container",
          "flagStatus": "OK",
          "comments": [],
          "container": "Applications/Release816554/Phase3407457",
          "attachments": [],
          "status": "PLANNED",
          "overdueNotified": false,
          "waitForScheduledStartDate": true,
          "hasBeenFlagged": false,
          "hasBeenDelayed": false,
          "failuresCount": 0,
          "variableMapping": {},
          "tags": [],
          "script": "import json\nimport os\nimport sys\nimport urllib2\n\ncattleurlenv = os.environ['CATTLE_URL']\ncattleurl = cattleurlenv.replace(\"v1\", \"v2-beta\")\nstackname = \"teststack\"\nservicename = \"tomcat\"\nimageuuid = \"rbcd/tomcat:9.0.0.M13\"\n\nstackdata = '{\"system\":false,\"type\":\"stack\",\"startOnCreate\":true,\"group\":\"user\",\"created\":null,\"description\":null,\"externalId\":\"\",\"healthState\":null,\"kind\":null,\"removed\":null,\"uuid\":null,\"previousExternalId\":null}'\n\njsonstackdata = json.loads(stackdata)\njsonstackdata['name'] = stackname\n\nstackreq = urllib2.Request(cattleurl + \"/projects/1a5/stack\")\nstackreq.add_header('Content-Type', 'application/json')\n\nresponsestack = urllib2.urlopen(stackreq, json.dumps(jsonstackdata))\n\nresponsestackdata = json.load(responsestack)\n\nstackid = responsestackdata['id']\n\nservicedata = '{\"scale\":1,\"assignServiceIpAddress\":false,\"startOnCreate\":true,\"type\":\"service\",\"stackId\":\"1st1\",\"launchConfig\":{\"kind\":\"container\",\"networkMode\":\"managed\",\"privileged\":false,\"publishAllPorts\":false,\"readOnly\":false,\"startOnCreate\":true,\"stdinOpen\":true,\"tty\":true,\"vcpu\":1,\"type\":\"launchConfig\",\"labels\":{\"io.rancher.container.pull_image\":\"always\"},\"restartPolicy\":{\"name\":\"always\"},\"dataVolumes\":[],\"dataVolumesFrom\":[],\"dns\":[],\"dnsSearch\":[],\"capAdd\":[],\"capDrop\":[],\"devices\":[],\"logConfig\":{\"driver\":\"\",\"config\":{}},\"dataVolumesFromLaunchConfigs\":[],\"imageUuid\":\"docker:ubuntu:14.04.3\",\"ports\":[],\"blkioWeight\":null,\"cgroup\":null,\"cgroupParent\":null,\"count\":null,\"cpuCount\":null,\"cpuPercent\":null,\"cpuPeriod\":null,\"cpuQuota\":null,\"cpuSet\":null,\"cpuSetMems\":null,\"cpuShares\":null,\"createIndex\":null,\"created\":null,\"deploymentUnitUuid\":null,\"description\":null,\"diskQuota\":null,\"domainName\":null,\"externalId\":null,\"firstRunning\":null,\"healthInterval\":null,\"healthRetries\":null,\"healthState\":null,\"healthTimeout\":null,\"hostname\":null,\"ioMaximumBandwidth\":null,\"ioMaximumIOps\":null,\"ip\":null,\"ip6\":null,\"ipcMode\":null,\"isolation\":null,\"kernelMemory\":null,\"memory\":null,\"memoryMb\":null,\"memoryReservation\":null,\"memorySwap\":null,\"memorySwappiness\":null,\"milliCpuReservation\":null,\"oomScoreAdj\":null,\"pidMode\":null,\"pidsLimit\":null,\"removed\":null,\"requestedIpAddress\":null,\"shmSize\":null,\"startCount\":null,\"stopSignal\":null,\"systemContainer\":null,\"user\":null,\"userdata\":null,\"usernsMode\":null,\"uts\":null,\"uuid\":null,\"volumeDriver\":null,\"workingDir\":null,\"networkLaunchConfig\":null},\"secondaryLaunchConfigs\":[],\"name\":\"vetteshitouwe\",\"createIndex\":null,\"created\":null,\"description\":null,\"externalId\":null,\"healthState\":null,\"kind\":null,\"removed\":null,\"selectorContainer\":null,\"selectorLink\":null,\"uuid\":null,\"vip\":null,\"fqdn\":null}'\n\njsonservicedata = json.loads(servicedata)\n\njsonservicedata['name'] = servicename\njsonservicedata['stackId'] = stackid\njsonservicedata['launchConfig']['imageUuid'] = \"docker:\" + imageuuid\n\nservicereq = urllib2.Request(cattleurl + \"/projects/1a5/service\")\nservicereq.add_header('content-type', 'application/json')\n\ntry:\n  response = urllib2.urlopen(servicereq, json.dumps(jsonservicedata))\nexcept urllib2.URLError, e:\n  print e"
        },
          {
            "id": "Applications/Release816554/Phase3407457/Task9097977",
            "type": "xlrelease.DeployitTask",
            "$createdBy": "admin",
            "$createdAt": "2016-08-30T12:35:37.699+0000",
            "$lastModifiedBy": "admin",
            "$lastModifiedAt": "2016-08-30T12:36:46.713+0000",
            "title": "Deploy App to Dev Environment",
            "flagStatus": "OK",
            "comments": [],
            "container": "Applications/Release816554/Phase3407457",
            "attachments": [],
            "status": "PLANNED",
            "overdueNotified": false,
            "waitForScheduledStartDate": true,
            "hasBeenFlagged": false,
            "hasBeenDelayed": false,
            "failuresCount": 0,
            "variableMapping": {},
            "server": "Configuration/Deployit/xldeployserver",
            "environment": "DummyContainer",
            "deploymentPackage": "Applications/${APP_NAME}/${VERSION}",
            "currentStep": 0,
            "totalStep": 0
          },
          {
            "id": "Applications/Release816554/Phase3407457/Task8132411",
            "type": "xlrelease.CustomScriptTask",
            "$createdBy": "admin",
            "$createdAt": "2016-08-30T12:35:37.700+0000",
            "$lastModifiedBy": "admin",
            "$lastModifiedAt": "2016-08-30T12:35:37.700+0000",
            "title": "Run Test",
            "flagStatus": "OK",
            "comments": [],
            "container": "Applications/Release816554/Phase3407457",
            "attachments": [],
            "status": "PLANNED",
            "overdueNotified": false,
            "waitForScheduledStartDate": true,
            "hasBeenFlagged": false,
            "hasBeenDelayed": false,
            "failuresCount": 0,
            "variableMapping": {},
            "pythonScript": {
              "id": "Applications/Release816554/Phase3407457/Task8132411/PythonScript",
              "type": "remoteScript.Unix",
              "$createdBy": "admin",
              "$createdAt": "2016-08-30T12:35:37.704+0000",
              "$lastModifiedBy": "admin",
              "$lastModifiedAt": "2016-08-30T12:35:37.704+0000",
              "customScriptTask": "Applications/Release816554/Phase3407457/Task8132411",
              "port": 22,
              "connectionType": "SCP",
              "sudo": false
            }
          },
          {
            "id": "Applications/Release816554/Phase3407457/Task3884297",
            "type": "xlrelease.CustomScriptTask",
            "$createdBy": "admin",
            "$createdAt": "2016-08-30T12:35:37.700+0000",
            "$lastModifiedBy": "admin",
            "$lastModifiedAt": "2016-08-30T12:35:37.700+0000",
            "title": "Destroy Dummy Container",
            "flagStatus": "OK",
            "comments": [],
            "container": "Applications/Release816554/Phase3407457",
            "attachments": [],
            "status": "PLANNED",
            "overdueNotified": false,
            "waitForScheduledStartDate": true,
            "hasBeenFlagged": false,
            "hasBeenDelayed": false,
            "failuresCount": 0,
            "variableMapping": {},
            "pythonScript": {
              "id": "Applications/Release816554/Phase3407457/Task3884297/PythonScript",
              "type": "remoteScript.Unix",
              "$createdBy": "admin",
              "$createdAt": "2016-08-30T12:35:37.705+0000",
              "$lastModifiedBy": "admin",
              "$lastModifiedAt": "2016-08-30T12:35:37.705+0000",
              "customScriptTask": "Applications/Release816554/Phase3407457/Task3884297",
              "port": 22,
              "connectionType": "SCP",
              "sudo": false
            }
          }
        ],
        "release": "Applications/Release816554",
        "status": "PLANNED",
        "color": "#ff9e3b"
      },
      {
        "id": "Applications/Release816554/Phase1082605",
        "type": "xlrelease.Phase",
        "$createdBy": "admin",
        "$createdAt": "2016-08-30T12:35:37.697+0000",
        "$lastModifiedBy": "admin",
        "$lastModifiedAt": "2016-08-30T12:35:37.697+0000",
        "title": "Deploy",
        "flagStatus": "OK",
        "tasks": [
          {
            "id": "Applications/Release816554/Phase1082605/Task6947679",
            "type": "xlrelease.DeployitTask",
            "$createdBy": "admin",
            "$createdAt": "2016-08-30T12:35:37.701+0000",
            "$lastModifiedBy": "admin",
            "$lastModifiedAt": "2016-08-30T12:36:51.670+0000",
            "title": "Deploy App to Prod Environment",
            "flagStatus": "OK",
            "comments": [],
            "container": "Applications/Release816554/Phase1082605",
            "attachments": [],
            "status": "PLANNED",
            "overdueNotified": false,
            "waitForScheduledStartDate": true,
            "hasBeenFlagged": false,
            "hasBeenDelayed": false,
            "failuresCount": 0,
            "variableMapping": {},
            "server": "Configuration/Deployit/xldeployserver",
            "environment": "Production",
            "deploymentPackage": "Applications/${APP_NAME}/${VERSION}",
            "currentStep": 0,
            "totalStep": 0
          }
        ],
        "release": "Applications/Release816554",
        "status": "PLANNED",
        "color": "#dd4b39"
      }
    ],
    "queryableStartDate": "2016-08-30T07:00:00Z",
    "realFlagStatus": "OK",
    "status": "TEMPLATE",
    "tags": [],
    "variables": [
      {
        "id": "Applications/Release4707628/Variable9729715",
        "type": "xlrelease.StringVariable",
        "$createdBy": "admin",
        "$createdAt": "2016-09-01T09:47:01.693+0000",
        "$lastModifiedBy": "admin",
        "$lastModifiedAt": "2016-09-01T09:54:31.315+0000",
        "key": "VERSION",
        "requiresValue": false,
        "showOnReleaseStart": false,
        "label": "Version Number"
      },
      {
        "id": "Applications/Release4707628/Variable7968479",
        "type": "xlrelease.StringVariable",
        "$createdBy": "admin",
        "$createdAt": "2016-09-01T09:48:44.479+0000",
        "$lastModifiedBy": "admin",
        "$lastModifiedAt": "2016-09-01T09:55:00.854+0000",
        "key": "APP_NAME",
        "requiresValue": false,
        "showOnReleaseStart": false,
        "label": "Application Name",
        "value": "APPNAME"
      }
    ],
    "calendarPublished": false,
    "tutorial": false,
    "abortOnFailure": false,
    "allowConcurrentReleasesFromTrigger": true,
    "runningTriggeredReleasesCount": 0,
    "createdFromTrigger": false,
    "scriptUsername": "XLRELEASEUSER",
    "scriptUserPassword": "XLRELEASEPASS",
    "extensions": []
  }
]
